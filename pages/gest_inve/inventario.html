<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Inventario</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../styles/gest_inve/inventario.css">
</head>
<body>
    <div class="inventory-container">
        <!-- Encabezado principal -->
        <header class="inventory-header">
            <h1>Gestión de Inventario</h1>
            <div class="global-actions">
                <button id="exportarPDF" type="button" class="btn-export">
                    <i class="icon-pdf"></i> Exportar PDF
                </button>
                <button id="exportarExcel" type="button" class="btn-export">
                    <i class="icon-excel"></i> Exportar Excel
                </button>
            </div>
        </header>

        <!-- Contenido principal en diseño de dos columnas -->
        <main class="inventory-content">
            <!-- Columna izquierda - Configuración -->
            <div class="config-column">
                <!-- Sección de Categorías -->
                <section class="inventory-section category-section">
                    <div class="section-header">
                        <h2>Categorías</h2>
                        <div class="search-box">
                            <input list="sugerenciasCategoria" id="buscarCategoria" placeholder="Buscar categoría...">
                            <datalist id="sugerenciasCategoria"></datalist>
                        </div>
                    </div>
                    
                    <form id="categoriaForm" class="item-form">
                        <input type="hidden" id="categoriaId">
                        <div class="form-group">
                            <input type="text" id="categoriaNombre" placeholder="Nombre" required>
                        </div>
                        <div class="form-group">
                            <textarea id="categoriaDesc" placeholder="Descripción"></textarea>
                        </div>
                        <button type="submit" class="btn-save">Guardar Categoría</button>
                    </form>
                    
                    <div class="item-list-container">
                        <ul id="categoriasLista" class="item-list"></ul>
                    </div>
                </section>

                <!-- Sección de Subcategorías -->
                <section class="inventory-section subcategory-section">
                    <div class="section-header">
                        <h2>Subcategorías</h2>
                        <div class="search-box">
                            <input list="sugerenciasSubcategoria" id="buscarSubcategoria" placeholder="Buscar subcategoría...">
                            <datalist id="sugerenciasSubcategoria"></datalist>
                        </div>
                    </div>
                    
                    <form id="subcategoriaForm" class="item-form">
                        <input type="hidden" id="subcategoriaId">
                        <div class="form-group">
                            <select id="subcategoriaCategoria" required>
                                <option value="">Seleccione categoría</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <input type="text" id="subcategoriaNombre" placeholder="Nombre" required>
                        </div>
                        <div class="form-group">
                            <textarea id="subcategoriaDesc" placeholder="Descripción"></textarea>
                        </div>
                        <button type="submit" class="btn-save">Guardar Subcategoría</button>
                    </form>
                    
                    <div class="item-list-container">
                        <ul id="subcategoriasLista" class="item-list"></ul>
                    </div>
                </section>
            </div>

            <!-- Columna derecha - Productos -->
            <div class="products-column">
                <section class="inventory-section products-section">
                    <div class="section-header">
                        <h2>Productos</h2>
                        <div class="product-actions">
                            <div class="search-box">
                                <input list="sugerenciasProducto" id="buscarProducto" placeholder="Buscar producto...">
                                <datalist id="sugerenciasProducto"></datalist>
                            </div>
                        </div>
                    </div>
                    
                    <form id="productoForm" class="item-form">
                        <input type="hidden" id="productoId">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="productoNombre">Nombre</label>
                                <input type="text" id="productoNombre" required>
                            </div>
                            <div class="form-group">
                                <label for="productoCategoria">Categoría</label>
                                <select id="productoCategoria" required></select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="productoSubcategoria">Subcategoría</label>
                                <select id="productoSubcategoria" required></select>
                            </div>
                            <div class="form-group">
                                <label for="productoStock">Stock inicial</label>
                                <input type="number" id="productoStock" min="0" value="0">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="productoPrecio">Precio compra</label>
                            <input type="number" id="productoPrecio" min="0" step="0.01" value="0">
                        </div>
                        
                        <div class="form-group">
                            <label for="productoDesc">Descripción</label>
                            <textarea id="productoDesc"></textarea>
                        </div>
                        
                        <button type="submit" class="btn-save">Guardar Producto</button>
                    </form>
                    
                    <div id="alertasStock" class="stock-alerts"></div>
                    
                    <div class="item-list-container">
                        <ul id="productosLista" class="item-list"></ul>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script src="../../scripts/gest_inve/inventario.js"></script>
</body>
</html>